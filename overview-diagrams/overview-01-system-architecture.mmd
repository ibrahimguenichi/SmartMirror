graph TB
    subgraph FRONTEND["üñ•Ô∏è FRONTEND"]
        Mobile["üì±<br/>Mobile Device"]
        Tablet["üì±<br/>Tablet"]
        Mirror["ü™û<br/>Smart Mirror<br/>Display"]
        
        Mobile -.-> UI
        Tablet -.-> UI
        Mirror -.-> UI
        
        UI["MagicMirror UI<br/>Node.js + Electron<br/>Port: 5173"]
    end
    
    subgraph MIDDLEWARE["‚öôÔ∏è BACKEND SERVICES"]
        SpringBoot["Spring Boot API<br/>Java 17<br/>Port: 8080<br/><br/>‚Ä¢ User Management<br/>‚Ä¢ Reservations<br/>‚Ä¢ Authentication<br/>‚Ä¢ QR Codes"]
        
        AI["AI Backend<br/>FastAPI + Python<br/>Port: 8000<br/><br/>‚Ä¢ Face Recognition<br/>‚Ä¢ LLM Chatbot<br/>‚Ä¢ InsightFace Model"]
        
        LLM["Ollama LLM<br/>Local AI Service<br/>Port: 11434<br/><br/>‚Ä¢ Conversational AI<br/>‚Ä¢ Context-Aware"]
    end
    
    subgraph DATA["üíæ DATA LAYER"]
        DB[("PostgreSQL<br/>+ pgvector<br/>Port: 5432<br/><br/>‚Ä¢ Users<br/>‚Ä¢ Reservations<br/>‚Ä¢ Face Embeddings<br/>‚Ä¢ Vector Search")]
    end
    
    subgraph EXTERNAL["üåê EXTERNAL SERVICES"]
        OAuth["OAuth2 Providers<br/>Google ‚Ä¢ GitHub"]
        Email["Email Service<br/>SMTP"]
        Weather["Weather API<br/>OpenMeteo"]
        News["News Feeds<br/>RSS"]
    end
    
    UI -->|REST API<br/>JSON| SpringBoot
    UI -->|Face & Chat<br/>JSON| AI
    
    SpringBoot -->|JDBC<br/>JPA| DB
    AI -->|pgvector<br/>Embeddings| DB
    AI -->|HTTP| LLM
    AI -.->|User Profile| SpringBoot
    
    SpringBoot -.->|OAuth2| OAuth
    SpringBoot -.->|Notifications| Email
    UI -.->|HTTP| Weather
    UI -.->|HTTP| News
    
    classDef frontend fill:#FF9800,stroke:#E65100,stroke-width:3px,color:#fff
    classDef backend fill:#2196F3,stroke:#0D47A1,stroke-width:3px,color:#fff
    classDef data fill:#4CAF50,stroke:#1B5E20,stroke-width:3px,color:#fff
    classDef external fill:#9C27B0,stroke:#4A148C,stroke-width:2px,color:#fff
    
    class UI frontend
    class SpringBoot,AI,LLM backend
    class DB data
    class OAuth,Email,Weather,News external
